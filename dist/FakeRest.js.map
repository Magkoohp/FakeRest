{"version":3,"sources":["webpack://FakeRest/webpack/universalModuleDefinition","webpack://FakeRest/./src/Collection.js","webpack://FakeRest/./src/Single.js","webpack://FakeRest/./src/parseQueryString.js","webpack://FakeRest/./src/Server.js","webpack://FakeRest/./src/FetchServer.js","webpack://FakeRest/./src/FakeRest.js","webpack://FakeRest/./node_modules/lodash/_Hash.js","webpack://FakeRest/./node_modules/lodash/_ListCache.js","webpack://FakeRest/./node_modules/lodash/_Map.js","webpack://FakeRest/./node_modules/lodash/_MapCache.js","webpack://FakeRest/./node_modules/lodash/_Symbol.js","webpack://FakeRest/./node_modules/lodash/_arrayMap.js","webpack://FakeRest/./node_modules/lodash/_assocIndexOf.js","webpack://FakeRest/./node_modules/lodash/_baseGet.js","webpack://FakeRest/./node_modules/lodash/_baseGetTag.js","webpack://FakeRest/./node_modules/lodash/_baseIsNative.js","webpack://FakeRest/./node_modules/lodash/_baseToString.js","webpack://FakeRest/./node_modules/lodash/_castPath.js","webpack://FakeRest/./node_modules/lodash/_coreJsData.js","webpack://FakeRest/./node_modules/lodash/_freeGlobal.js","webpack://FakeRest/./node_modules/lodash/_getMapData.js","webpack://FakeRest/./node_modules/lodash/_getNative.js","webpack://FakeRest/./node_modules/lodash/_getRawTag.js","webpack://FakeRest/./node_modules/lodash/_getValue.js","webpack://FakeRest/./node_modules/lodash/_hashClear.js","webpack://FakeRest/./node_modules/lodash/_hashDelete.js","webpack://FakeRest/./node_modules/lodash/_hashGet.js","webpack://FakeRest/./node_modules/lodash/_hashHas.js","webpack://FakeRest/./node_modules/lodash/_hashSet.js","webpack://FakeRest/./node_modules/lodash/_isKey.js","webpack://FakeRest/./node_modules/lodash/_isKeyable.js","webpack://FakeRest/./node_modules/lodash/_isMasked.js","webpack://FakeRest/./node_modules/lodash/_listCacheClear.js","webpack://FakeRest/./node_modules/lodash/_listCacheDelete.js","webpack://FakeRest/./node_modules/lodash/_listCacheGet.js","webpack://FakeRest/./node_modules/lodash/_listCacheHas.js","webpack://FakeRest/./node_modules/lodash/_listCacheSet.js","webpack://FakeRest/./node_modules/lodash/_mapCacheClear.js","webpack://FakeRest/./node_modules/lodash/_mapCacheDelete.js","webpack://FakeRest/./node_modules/lodash/_mapCacheGet.js","webpack://FakeRest/./node_modules/lodash/_mapCacheHas.js","webpack://FakeRest/./node_modules/lodash/_mapCacheSet.js","webpack://FakeRest/./node_modules/lodash/_memoizeCapped.js","webpack://FakeRest/./node_modules/lodash/_nativeCreate.js","webpack://FakeRest/./node_modules/lodash/_objectToString.js","webpack://FakeRest/./node_modules/lodash/_root.js","webpack://FakeRest/./node_modules/lodash/_stringToPath.js","webpack://FakeRest/./node_modules/lodash/_toKey.js","webpack://FakeRest/./node_modules/lodash/_toSource.js","webpack://FakeRest/./node_modules/lodash/eq.js","webpack://FakeRest/./node_modules/lodash/get.js","webpack://FakeRest/./node_modules/lodash/isArray.js","webpack://FakeRest/./node_modules/lodash/isFunction.js","webpack://FakeRest/./node_modules/lodash/isObject.js","webpack://FakeRest/./node_modules/lodash/isObjectLike.js","webpack://FakeRest/./node_modules/lodash/isSymbol.js","webpack://FakeRest/./node_modules/lodash/memoize.js","webpack://FakeRest/./node_modules/lodash/toString.js","webpack://FakeRest/webpack/bootstrap","webpack://FakeRest/webpack/runtime/compat get default export","webpack://FakeRest/webpack/runtime/define property getters","webpack://FakeRest/webpack/runtime/global","webpack://FakeRest/webpack/runtime/hasOwnProperty shorthand","webpack://FakeRest/webpack/runtime/make namespace object","webpack://FakeRest/webpack/startup"],"names":["every","array","predicate","reduce","acc","value","some","getArrayOfObjectsPaths","keyParts","item","key","index","undefined","keyToArray","slice","join","keyToItem","itemValue","get","Array","isArray","length","getSimpleFilter","indexOf","realKey","replace","v","filter","filterItems","items","Object","filterFunctions","keys","map","regex","RegExp","q","itemKey","match","split","arrayOfObjectsPaths","arrayPath","valuePath","filteredArrayItems","selected","filterFunction","Error","sortItems","sort","a","b","direction","toLowerCase","rangeItems","range","Collection","identifierName","sequence","server","name","addOne","bind","resourceName","singularResourceName","referenceName","otherCollection","collections","getAll","i","pluralResourceName","getOne","e","embed","resourceNames","resourceEmbedders","endsWith","_oneToManyEmbedder","_manyToOneEmbedder","itemWithEmbeds","embedder","query","assign","_itemEmbedder","identifier","findIndex","getIndex","Math","max","push","splice","Single","obj","parseQueryString","queryString","queryObject","queryElements","queryElement","JSON","parse","trim","Server","baseUrl","loggingEnabled","defaultQuery","batchUrl","singles","requestInterceptors","responseInterceptors","data","addCollection","addSingle","url","console","warn","collection","setServer","setName","single","interceptor","params","getCount","hasOwnProperty","updateOne","removeOne","getOnly","updateOnly","request","decodeURIComponent","requestBody","json","error","previous","current","body","headers","status","response","log","respond","stringify","group","groupCollapsed","method","requestHeaders","groupEnd","handle","jsonResponse","requestName","subResponse","sub","code","headerName","decode","batch","getSingleNames","matches","getCollection","count","contentRange","first","last","min","newResource","newResourceURI","Location","id","FetchServer","opts","req","Request","text","then","requestJson","Headers","reponse","getCollectionNames"],"mappings":"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CA;;AAEA;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA,mBAAmB,mBAAO,CAAC,IAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC7BA,mBAAmB,mBAAO,CAAC,IAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACtBA,mBAAmB,mBAAO,CAAC,IAAiB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACtBA,cAAc,mBAAO,CAAC,IAAW;AACjC,eAAe,mBAAO,CAAC,IAAY;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5BA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACdA,iBAAiB,mBAAO,CAAC,IAAe;;AAExC;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACZA,mBAAmB,mBAAO,CAAC,IAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AClCA,mBAAmB,mBAAO,CAAC,IAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;AClBA,mBAAmB,mBAAO,CAAC,IAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;ACfA,mBAAmB,mBAAO,CAAC,IAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;ACzBA,WAAW,mBAAO,CAAC,IAAS;AAC5B,gBAAgB,mBAAO,CAAC,IAAc;AACtC,UAAU,mBAAO,CAAC,IAAQ;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpBA,iBAAiB,mBAAO,CAAC,IAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,IAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,IAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,IAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;ACrBA,cAAc,mBAAO,CAAC,IAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;;ACzBA,gBAAgB,mBAAO,CAAC,GAAc;;AAEtC;AACA;;AAEA;;;;;;;;ACLA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;ACrBA,iBAAiB,mBAAO,CAAC,IAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACRA,oBAAoB,mBAAO,CAAC,IAAkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;;AC1BA,eAAe,mBAAO,CAAC,IAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpCA,cAAc,mBAAO,CAAC,IAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,IAAe;AACxC,eAAe,mBAAO,CAAC,IAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5BA,iBAAiB,mBAAO,CAAC,IAAe;AACxC,mBAAmB,mBAAO,CAAC,IAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5BA,eAAe,mBAAO,CAAC,IAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACxEA,mBAAmB,mBAAO,CAAC,GAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;UC3BA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCrBA;WACA;WACA;WACA,cAAc,0BAA0B,EAAE;WAC1C,cAAc,eAAe;WAC7B,gCAAgC,YAAY;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;WACA,CAAC,I;;;;;WCPD,6CAA6C,wDAAwD,E;;;;;WCArG;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;UCNA;UACA;UACA;UACA","file":"FakeRest.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FakeRest\"] = factory();\n\telse\n\t\troot[\"FakeRest\"] = factory();\n})(self, function() {\nreturn ","import get from 'lodash/get';\n\nconst every = (array, predicate) =>\n    array.reduce((acc, value) => acc && predicate(value), true);\n\nconst some = (array, predicate) =>\n    array.reduce((acc, value) => acc || predicate(value), false);\n\nconst getArrayOfObjectsPaths = (keyParts, item) => \n    keyParts.reduce((acc, key, index) => {\n        // If we already found an array, we don't need to explore further\n        // For example with path `tags.name` when tags is an array of objects\n        if (acc != undefined) {\n            return acc;\n        }\n        \n        let keyToArray = keyParts.slice(0, index + 1).join('.');\n        let keyToItem = keyParts.slice(index + 1).join('.')\n        let itemValue = get(item, keyToArray);\n        \n        // If the array is at the end of the key path, we will process it like we do normally with arrays\n        // For example with path `deep.tags` where tags is the array. In this case, we return undefined\n        return Array.isArray(itemValue) && index < keyParts.length - 1\n            ? [keyToArray, keyToItem]\n            : undefined;\n    }, undefined);\n\nconst getSimpleFilter = (key, value) => {\n    if (key.indexOf('_lte') !== -1) {\n        // less than or equal\n        let realKey = key.replace(/(_lte)$/, '');\n        return item => get(item, realKey) <= value;\n    }\n    if (key.indexOf('_gte') !== -1) {\n        // less than or equal\n        let realKey = key.replace(/(_gte)$/, '');\n        return item => get(item, realKey) >= value;\n    }\n    if (key.indexOf('_lt') !== -1) {\n        // less than or equal\n        let realKey = key.replace(/(_lt)$/, '');\n        return item => get(item, realKey) < value;\n    }\n    if (key.indexOf('_gt') !== -1) {\n        // less than or equal\n        let realKey = key.replace(/(_gt)$/, '');\n        return item => get(item, realKey) > value;\n    }\n    if (Array.isArray(value)) {\n        return item => {\n            if (Array.isArray(get(item, key))) {\n                // array filter and array item value: where all items in values\n                return every(\n                    value,\n                    v => some(get(item, key), itemValue => itemValue == v)\n                );\n            }\n            // where item in values\n            return value.filter(v => v == get(item, key)).length > 0;\n        }\n    }\n    return item => {\n        if (Array.isArray(get(item, key)) && typeof value == 'string') {\n            // simple filter but array item value: where value in item\n            return get(item, key).indexOf(value) !== -1;\n        }\n        if (typeof get(item, key) == 'boolean' && typeof value == 'string') {\n            // simple filter but boolean item value: boolean where\n            return get(item, key) == (value === 'true' ? true : false);\n        }\n        // simple filter\n        return get(item, key) == value;\n    };\n}\n\nfunction filterItems(items, filter) {\n    if (typeof filter === 'function') {\n        return items.filter(filter);\n    }\n    if (filter instanceof Object) {\n        // turn filter properties to functions\n        var filterFunctions = Object.keys(filter).map(key => {\n            if (key === 'q') {\n                let regex = new RegExp(filter.q, 'i');\n                // full-text filter\n                return item => {\n                    for (let itemKey in item) {\n                        if (item[itemKey] && item[itemKey].match && item[itemKey].match(regex) !== null) return true;\n                    }\n                    return false;\n                };\n            }\n\n            let keyParts = key.split('.');\n            let value = filter[key];\n            if (keyParts.length > 1) {\n                return item => {\n                    let arrayOfObjectsPaths = getArrayOfObjectsPaths(keyParts, item);\n\n                    if (arrayOfObjectsPaths) {\n                        let [arrayPath, valuePath] = arrayOfObjectsPaths;\n                        // Check wether any item in the array matches the filter\n                        const filteredArrayItems = filterItems(get(item, arrayPath), {[valuePath]: value});\n                        return filteredArrayItems.length > 0;\n                    } else {\n                        return getSimpleFilter(key, value)(item);\n                    }\n                }\n            }\n\n            return getSimpleFilter(key, value);\n        });\n        // only the items matching all filters functions are in (AND logic)\n        return items.filter(item =>\n            filterFunctions.reduce((selected, filterFunction) => selected && filterFunction(item), true)\n        );\n    }\n    throw new Error('Unsupported filter type');\n}\n\nfunction sortItems(items, sort) {\n    if (typeof sort === 'function') {\n        return items.sort(sort);\n    }\n    if (typeof sort === 'string') {\n        return items.sort(function(a, b) {\n          if (a[sort] > b[sort]) {\n            return 1;\n          }\n          if (a[sort] < b[sort]) {\n            return -1;\n          }\n          return 0;\n        });\n    }\n    if (Array.isArray(sort)) {\n        let key = sort[0];\n        let direction = sort[1].toLowerCase() == 'asc' ? 1 : -1;\n        return items.sort(function(a, b) {\n          if (a[key] > b[key]) {\n            return direction;\n          }\n          if (a[key] < b[key]) {\n            return -1 * direction ;\n          }\n          return 0;\n        });\n    }\n    throw new Error('Unsupported sort type');\n}\n\nfunction rangeItems(items, range) {\n    if (Array.isArray(range)) {\n        return items.slice(range[0], range[1] !== undefined ? range[1] + 1 : undefined);\n    }\n    throw new Error('Unsupported range type');\n}\n\nexport class Collection {\n\n    constructor(items=[], identifierName='id') {\n        if (!Array.isArray(items)) {\n            throw new Error('Can\\'t initialize a Collection with anything else than an array of items');\n        }\n        this.sequence = 0; // id of the next item\n        this.identifierName = identifierName;\n        this.items = [];\n        this.server = null;\n        this.name = null;\n        items.map(this.addOne.bind(this));\n    }\n\n    /**\n     * A Collection may need to access other collections (e.g. for embedding references)\n     * This is done through a reference to the parent server.\n     */\n    setServer(server) {\n        this.server = server;\n    }\n\n    setName(name) {\n        this.name = name;\n    }\n\n    /**\n     * Get a one to many embedder function for a given resource name\n     *\n     * @example embed posts for an author\n     *\n     *     authorsCollection._oneToManyEmbedder('posts')\n     *\n     * @returns Function item => item\n     */\n    _oneToManyEmbedder(resourceName) {\n        const singularResourceName = this.name.slice(0,-1);\n        const referenceName = singularResourceName + '_id';\n        return (item) => {\n            const otherCollection = this.server.collections[resourceName];\n            if (!otherCollection) throw new Error(`Can't embed a non-existing collection ${resourceName}`);\n            if (Array.isArray(item[resourceName])) {\n                // the many to one relationship is carried by an array of ids, e.g. { posts: [1, 2] } in authors\n                item[resourceName] = otherCollection.getAll({\n                    filter: i => item[resourceName].indexOf(i[otherCollection.identifierName]) !== -1\n                });\n            } else {\n                // the many to one relationship is carried by references in the related collection, e.g. { author_id: 1 } in posts\n                item[resourceName] = otherCollection.getAll({\n                    filter: i => i[referenceName] == item[this.identifierName]\n                });\n            }\n            return item;\n        };\n    }\n\n    /**\n     * Get a many to one embedder function for a given resource name\n     *\n     * @example embed author for a post\n     *\n     *     postsCollection._manyToOneEmbedder('author')\n     *\n     * @returns Function item => item\n     */\n    _manyToOneEmbedder(resourceName) {\n        const pluralResourceName = resourceName + 's';\n        const referenceName = resourceName + '_id';\n        return (item) => {\n            const otherCollection = this.server.collections[pluralResourceName];\n            if (!otherCollection) throw new Error(`Can't embed a non-existing collection ${resourceName}`);\n            try {\n                item[resourceName] = otherCollection.getOne(item[referenceName]);\n            } catch (e) {\n                // resource doesn't exist in the related collection - do not embed\n            }\n            return item;\n        };\n    }\n\n    /**\n     * @param String[] An array of resource names, e.g. ['books', 'country']\n     * @returns Function item => item\n     */\n    _itemEmbedder(embed) {\n        const resourceNames = Array.isArray(embed) ? embed : [embed];\n        const resourceEmbedders = resourceNames.map(resourceName =>\n            resourceName.endsWith('s') ? this._oneToManyEmbedder(resourceName) : this._manyToOneEmbedder(resourceName)\n        );\n        return item => resourceEmbedders.reduce((itemWithEmbeds, embedder) => embedder(itemWithEmbeds), item);\n    }\n\n    getCount(query) {\n        return this.getAll(query).length;\n    }\n\n    getAll(query) {\n        var items = this.items.slice(0); // clone the array to avoid updating the core one\n        if (query) {\n            if (query.filter) {\n                items = filterItems(items, query.filter);\n            }\n            if (query.sort) {\n                items = sortItems(items, query.sort);\n            }\n            if (query.range) {\n                items = rangeItems(items, query.range);\n            }\n            items = items.map(item => Object.assign({}, item)) // clone item to avoid returning the original\n            if (query.embed && this.server) {\n                items = items.map(this._itemEmbedder(query.embed)); // embed reference\n            }\n        }\n        return items;\n    }\n\n    getIndex(identifier) {\n        return this.items.findIndex(item => item[this.identifierName] == identifier);\n    }\n\n    getOne(identifier, query) {\n        let index = this.getIndex(identifier);\n        if (index === -1) {\n            throw new Error(`No item with identifier ${ identifier }`);\n        }\n        let item = this.items[index];\n        item = Object.assign({}, item); // clone item to avoid returning the original\n        if (query && query.embed && this.server) {\n            item = this._itemEmbedder(query.embed)(item); // embed reference\n        }\n        return item;\n    }\n\n    addOne(item) {\n        var identifier = item[this.identifierName];\n        if (identifier !== undefined) {\n            if (this.getIndex(identifier) !== -1) {\n                throw new Error(`An item with the identifier ${ identifier } already exists`);\n            } else {\n                this.sequence = Math.max(this.sequence, identifier) + 1;\n            }\n        } else {\n            item[this.identifierName] = this.sequence++;\n        }\n        this.items.push(item);\n        return Object.assign({}, item); // clone item to avoid returning the original;\n    }\n\n    updateOne(identifier, item) {\n        let index = this.getIndex(identifier);\n        if (index === -1) {\n            throw new Error(`No item with identifier ${ identifier }`);\n        }\n        for (let key in item) {\n            this.items[index][key] = item[key];\n        }\n        return Object.assign({}, this.items[index]); // clone item to avoid returning the original\n    }\n\n    removeOne(identifier) {\n        let index = this.getIndex(identifier);\n        if (index === -1) {\n            throw new Error(`No item with identifier ${ identifier }`);\n        }\n        var item = this.items[index];\n        this.items.splice(index, 1);\n        if (identifier == (this.sequence - 1)) {\n            this.sequence--;\n        }\n        return item;\n    }\n}\n","export class Single {\n    constructor(obj) {\n        if (!(obj instanceof Object)) {\n            throw new Error('Can\\'t initialize a Single with anything except an object');\n        }\n        this.obj = obj;\n        this.server = null;\n        this.name = null;\n    }\n\n    /**\n     * A Single may need to access other collections (e.g. for embedded\n     * references) This is done through a reference to the parent server.\n     */\n    setServer(server) {\n        this.server = server;\n    }\n\n    setName(name) {\n        this.name = name;\n    }\n\n    // No need to embed Singles, since they are by their nature top-level\n    // No need to worry about remote references, (i.e. mysingleton_id=1) since\n    // it is by definition a singleton\n    _oneToManyEmbedder(resourceName) {\n        return (item) => {\n            const otherCollection = this.server.collections[resourceName];\n            if (!otherCollection) throw new Error(`Can't embed a non-existing collection ${resourceName}`);\n            // We have an array of ids {posts: [1,2]} (back refs are not valid\n            // for singleton)\n            item[resourceName] = otherCollection.getAll({\n                filter: i => item[resourceName].indexOf(i[otherCollection.identifierName]) !== -1\n            });\n            return item;\n        };      \n    }\n\n    _manyToOneEmbedder(resourceName) {\n        const pluralResourceName = resourceName + 's';\n        const referenceName = resourceName + '_id';\n        return (item) => {\n            const otherCollection = this.server.collections[pluralResourceName];\n            if (!otherCollection) throw new Error(`Can't embed a non-existing collection ${resourceName}`);\n            try {\n                item[resourceName] = otherCollection.getOne(item[referenceName]);\n            } catch (e) {\n                // Resource doesn't exist, so don't embed\n            }\n            return item;\n        };\n    }\n\n    _itemEmbedder(embed) {\n        const resourceNames = Array.isArray(embed) ? embed : [embed];\n        const resourceEmbedders = resourceNames.map(resourceName =>\n           resourceName.endsWith('s') ? this._oneToManyEmbedder(resourceName) : this._manyToOneEmbedder(resourceName)\n        );\n        return item => resourceEmbedders.reduce((itemWithEmbeds, embedder) => embedder(itemWithEmbeds), item);\n    }\n\n    getOnly(query) {\n        let item = this.obj;\n        if (query && query.embed && this.server) {\n            item = Object.assign({}, item); // Clone\n            item = this._itemEmbedder(query.embed)(item);\n        }\n        return item;\n    }\n\n    updateOnly(item) {\n        for (let key in item) {\n            this.obj[key] = item[key];\n        }\n        return this.obj;\n    }\n}\n","export function parseQueryString(queryString) {\n    if (!queryString) {\n        return {};\n    }\n    let queryObject = {};\n    let queryElements = queryString.split('&');\n\n    queryElements.map(function(queryElement) {\n        if (queryElement.indexOf('=') === -1) {\n            queryObject[queryElement] = true;\n        } else {\n            let [key, value] = queryElement.split('=');\n            if (value.indexOf('[') === 0 || value.indexOf('{') === 0) {\n                value = JSON.parse(value);\n            }\n            queryObject[key.trim()] = value;\n        }\n    });\n\n    return queryObject;\n}\n","import { Collection } from './Collection';\nimport { Single } from './Single';\nimport { parseQueryString } from './parseQueryString';\n\nexport class Server {\n    constructor(baseUrl='') {\n        this.baseUrl = baseUrl;\n        this.loggingEnabled = false;\n        this.defaultQuery = () => {};\n        this.batchUrl = null;\n        this.collections = {};\n        this.singles = {};\n        this.requestInterceptors = [];\n        this.responseInterceptors = [];\n    }\n\n    /**\n     * Shortcut for adding several collections if identifierName is always 'id'\n     */\n    init(data) {\n        for (let name in data) {\n            if (Array.isArray(data[name])) {\n                this.addCollection(name, new Collection(data[name], 'id'));\n            } else {\n                this.addSingle(name, new Single(data[name]));\n            }\n        }\n    }\n\n    toggleLogging() {\n        this.loggingEnabled = !this.loggingEnabled;\n    }\n\n    /**\n     * @param Function ResourceName => object\n     */\n    setDefaultQuery(query) {\n        this.defaultQuery = query;\n    }\n\n    setBatchUrl(batchUrl) {\n        this.batchUrl = batchUrl;\n    }\n\n    /**\n     * @deprecated use setBatchUrl instead\n     */\n    setBatch(url) {\n        console.warn('Server.setBatch() is deprecated, use Server.setBatchUrl() instead');\n        this.batchUrl = url;\n    }\n\n    addCollection(name, collection) {\n        this.collections[name] = collection;\n        collection.setServer(this);\n        collection.setName(name);\n    }\n\n    getCollection(name) {\n        return this.collections[name];\n    }\n\n    getCollectionNames() {\n        return Object.keys(this.collections);\n    }\n\n    addSingle(name, single) {\n        this.singles[name] = single;\n        single.setServer(this);\n        single.setName(name);\n    }\n\n    getSingle(name) {\n        return this.singles[name];\n    }\n\n    getSingleNames() {\n        return Object.keys(this.singles);\n    }\n\n    addRequestInterceptor(interceptor) {\n        this.requestInterceptors.push(interceptor);\n    }\n\n    addResponseInterceptor(interceptor) {\n        this.responseInterceptors.push(interceptor);\n    }\n\n    /**\n     * @param {string} name\n     * @param {string} params As decoded from the query string, e.g. { sort: \"name\", filter: {enabled:true}, slice: [10, 20] }\n     */\n    getCount(name, params) {\n        return this.collections[name].getCount(params);\n    }\n\n    /**\n     * @param {string} name\n     * @param {string} params As decoded from the query string, e.g. { sort: \"name\", filter: {enabled:true}, slice: [10, 20] }\n     */\n    getAll(name, params) {\n        return this.collections[name].getAll(params);\n    }\n\n    getOne(name, identifier, params) {\n        return this.collections[name].getOne(identifier, params);\n    }\n\n    addOne(name, item) {\n        if (!this.collections.hasOwnProperty(name)) {\n            this.addCollection(name, new Collection([], 'id'));\n        }\n        return this.collections[name].addOne(item);\n    }\n\n    updateOne(name, identifier, item) {\n        return this.collections[name].updateOne(identifier, item);\n    }\n\n    removeOne(name, identifier) {\n        return this.collections[name].removeOne(identifier);\n    }\n\n    getOnly(name, params) {\n        return this.singles[name].getOnly();\n    }\n\n    updateOnly(name, item) {\n        return this.singles[name].updateOnly(item);\n    }\n\n\n    decode(request) {\n        request.queryString = decodeURIComponent(request.url.slice(request.url.indexOf('?') + 1));\n        request.params = parseQueryString(request.queryString);\n        if (request.requestBody) {\n            try {\n                request.json = JSON.parse(request.requestBody);\n            } catch(error) {\n                // body isn't JSON, skipping\n            }\n        }\n        return this.requestInterceptors.reduce(function(previous, current) {\n            return current(previous);\n        }, request);\n    }\n\n    respond(body, headers, request, status=200) {\n        if (!headers) {\n            headers = {};\n        }\n        if (!headers['Content-Type']) {\n            headers['Content-Type'] = 'application/json';\n        }\n        let response = { status: status, headers: headers, body: body };\n        response = this.responseInterceptors.reduce(function(previous, current) {\n            return current(previous, request);\n        }, response);\n        this.log(request, response);\n\n        return request.respond(response.status, response.headers, JSON.stringify(response.body));\n    }\n\n    log(request, response) {\n        if (!this.loggingEnabled) return;\n        if (console.group) {\n            // Better logging in Chrome\n            console.groupCollapsed(request.method, request.url, '(FakeRest)');\n            console.group('request');\n            console.log(request.method, request.url);\n            console.log('headers', request.requestHeaders);\n            console.log('body   ', request.requestBody);\n            console.groupEnd();\n            console.group('response', response.status);\n            console.log('headers', response.headers);\n            console.log('body   ', response.body);\n            console.groupEnd();\n            console.groupEnd();\n        } else {\n            console.log('FakeRest request ', request.method, request.url, 'headers', request.requestHeaders, 'body', request.requestBody);\n            console.log('FakeRest response', response.status, 'headers', response.headers, 'body', response.body);\n        }\n    }\n\n    batch(request) {\n\n        var json = request.json;\n        var handle = this.handle.bind(this);\n\n        var jsonResponse = Object.keys(json).reduce(function (jsonResponse, requestName) {\n            var subResponse;\n            var sub = {\n                url: json[requestName],\n                method: 'GET',\n                params: {},\n                respond: function (code, headers, body) {\n                    subResponse = {\n                        code: code,\n                        headers: Object.keys(headers || {}).map(function (headerName) {\n                            return {\n                                'name': headerName,\n                                'value': headers[headerName]\n                            };\n                        }),\n                        body: body || {}\n                    };\n                }\n            };\n            handle(sub);\n\n            jsonResponse[requestName] = subResponse || {\n                code: 404,\n                headers: [],\n                body: {}\n            };\n\n            return jsonResponse;\n        }, {});\n\n        return this.respond(jsonResponse, {}, request, 200);\n    }\n\n    /**\n     * @param {FakeXMLHttpRequest} request\n     *\n     * String request.url The URL set on the request object.\n     * String request.method The request method as a string.\n     * Object request.requestHeaders An object of all request headers, i.e.:\n     *     {\n     *         \"Accept\": \"text/html\",\n     *         \"Connection\": \"keep-alive\"\n     *     }\n     * String request.requestBody The request body\n     * String request.username Username, if any.\n     * String request.password Password, if any.\n     */\n    handle(request) {\n        request = this.decode(request);\n\n        if (this.batchUrl && this.batchUrl === request.url && request.method === 'POST') {\n            return this.batch(request);\n        }\n\n        // Handle Single Objects\n        for (let name of this.getSingleNames()) {\n            let matches = request.url.match(new RegExp('^' + this.baseUrl + '\\\\/(' + name + ')(\\\\/?.*)?$' ));\n            if (!matches) continue;\n\n            if (request.method == 'GET') {\n                try {\n                    let item = this.getOnly(name);\n                    return this.respond(item, null, request);\n                } catch (error) {\n                    return request.respond(404);\n                }\n            }\n            if (request.method == 'PUT') {\n                try {\n                    let item = this.updateOnly(name, request.json);\n                    return this.respond(item, null, request);\n                } catch (error) {\n                    return request.respond(404);\n                }\n            }\n            if (request.method == 'PATCH') {\n               try {\n                    let item = this.updateOnly(name, request.json);\n                    return this.respond(item, null, request);\n                } catch (error) {\n                    return request.respond(404);\n                }\n            }\n        }\n\n        // Handle collections\n        let matches = request.url.match(new RegExp('^' + this.baseUrl + '\\\\/([^\\\\/?]+)(\\\\/(\\\\d+))?(\\\\?.*)?$' ));\n        if (!matches) return;\n        let name = matches[1];\n        let params = Object.assign({}, this.defaultQuery(name), request.params);\n        if (!matches[2]) {\n            if (request.method == 'GET') {\n                if (!this.getCollection(name)) {\n                    return;\n                }\n                let count = this.getCount(name, params.filter ? { filter: params.filter } : {});\n                let items, contentRange, status;\n                if (count > 0) {\n                    items = this.getAll(name, params);\n                    let first = params.range ? params.range[0] : 0;\n                    let last = params.range ? Math.min(items.length - 1 + first, params.range[1]) : (items.length - 1);\n                    contentRange = `items ${first}-${last}/${count}`;\n                    status = (items.length == count) ? 200 : 206;\n                } else {\n                    items = [];\n                    contentRange = 'items */0';\n                    status = 200;\n                }\n                return this.respond(items, { 'Content-Range': contentRange }, request, status);\n            }\n            if (request.method == 'POST') {\n                let newResource = this.addOne(name, request.json);\n                let newResourceURI = this.baseUrl + '/' + name + '/' + newResource[this.getCollection(name).identifierName];\n                return this.respond(newResource, { Location: newResourceURI }, request, 201);\n            }\n        } else {\n            if (!this.getCollection(name)) {\n                return;\n            }\n            let id = matches[3];\n            if (request.method == 'GET') {\n                try {\n                    let item = this.getOne(name, id, params);\n                    return this.respond(item, null, request);\n                } catch (error) {\n                    return request.respond(404);\n                }\n            }\n            if (request.method == 'PUT') {\n                try {\n                    let item = this.updateOne(name, id, request.json);\n                    return this.respond(item, null, request);\n                } catch (error) {\n                    return request.respond(404);\n                }\n            }\n            if (request.method == 'PATCH') {\n                try {\n                    let item = this.updateOne(name, id, request.json);\n                    return this.respond(item, null, request);\n                } catch (error) {\n                    return request.respond(404);\n                }\n            }\n            if (request.method == 'DELETE') {\n                try {\n                    let item = this.removeOne(name, id);\n                    return this.respond(item, null, request);\n                } catch (error) {\n                    return request.respond(404);\n                }\n            }\n        }\n    }\n\n    getHandler() {\n        return this.handle.bind(this);\n    }\n}\n","import { Server } from './Server';\nimport { parseQueryString } from './parseQueryString';\n\nexport class FetchServer extends Server {\n    decode(request, opts) {\n        const req = (typeof request === 'string') ? new Request(request, opts) : request;\n        req.queryString = decodeURIComponent(req.url.slice(req.url.indexOf('?') + 1));\n        req.params = parseQueryString(req.queryString);\n        return req.text()\n            .then(text => {\n                req.requestBody = text\n                try {\n                    req.requestJson = JSON.parse(text)\n                } catch(e) {\n                    // not JSON, no big deal\n                }\n            })\n            .then(() => this.requestInterceptors.reduce((previous, current) => current(previous), req))\n    }\n\n    respond(response, request) {\n        response = this.responseInterceptors.reduce(function(previous, current) {\n            return current(previous, request);\n        }, response);\n        this.log(request, response);\n        response.headers = new Headers(response.headers)\n\n        return response;\n    }\n\n    log(request, response) {\n        if (!this.loggingEnabled) return;\n        if (console.group) {\n            // Better logging in Chrome\n            console.groupCollapsed(request.method, request.url, '(FakeRest)');\n            console.group('request');\n            console.log(request.method, request.url);\n            console.log('headers', request.headers);\n            console.log('body   ', request.requestBody);\n            console.groupEnd();\n            console.group('response', response.status);\n            console.log('headers', response.headers);\n            console.log('body   ', response.body);\n            console.groupEnd();\n            console.groupEnd();\n        } else {\n            console.log('FakeRest request ', request.method, request.url, 'headers', request.headers, 'body', request.requestBody);\n            console.log('FakeRest response', response.status, 'headers', response.headers, 'body', response.body);\n        }\n    }\n\n    batch(request) {\n        throw new Error('not implemented');\n    }\n\n    /**\n     * @param {Request} fetch request\n     * @param {Object} options\n     *\n     */\n    handle(req, opts) {\n        return this.decode(req, opts)\n            .then(request => {\n                const response = {\n                    headers: {'Content-Type': 'application/json' },\n                    status: 200,\n                };\n\n                // handle batch request\n                if (this.batchUrl && this.batchUrl === request.url && request.method === 'POST') {\n                    return this.batch(request);\n                }\n\n                // Handle Single Objects\n                for (let name of this.getSingleNames()) {\n                    let matches = request.url.match(new RegExp('^' + this.baseUrl + '\\\\/(' + name + ')(\\\\/?.*)?$' ));\n                    if (!matches) continue;\n\n                    if (request.method == 'GET') {\n                        try {\n                            response.body = this.getOnly(name);\n                        } catch (error) {\n                            reponse.status = 404;\n                        }\n                        return this.respond(response, request);\n                    }\n                    if (request.method == 'PUT') {\n                        try {\n                            response.body = this.updateOnly(name, request.requestJson);\n                        } catch (error) {\n                            reponse.status = 404;\n                        }\n                        return this.respond(response, request);\n                    }\n                    if (request.method == 'PATCH') {\n                       try {\n                            response.body = this.updateOnly(name, request.requestJson);\n                        } catch (error) {\n                            reponse.status = 404;\n                        }\n                        return this.respond(response, request);\n                    }\n                }\n\n                // handle collections\n                for (let name of this.getCollectionNames()) {\n                    let matches = request.url.match(new RegExp('^' + this.baseUrl + '\\\\/(' + name + ')(\\\\/(\\\\d+))?(\\\\?.*)?$' ));\n                    if (!matches) continue;\n                    let params = Object.assign({}, this.defaultQuery(name), request.params);\n                    if (!matches[2]) {\n                        if (request.method == 'GET') {\n                            let count = this.getCount(name, params.filter ? { filter: params.filter } : {});\n                            if (count > 0) {\n                                let items = this.getAll(name, params);\n                                let first = params.range ? params.range[0] : 0;\n                                let last = params.range ? Math.min(items.length - 1 + first, params.range[1]) : (items.length - 1);\n                                response.body = items;\n                                response.headers['Content-Range'] = `items ${first}-${last}/${count}`;\n                                response.status = (items.length == count) ? 200 : 206;\n                            } else {\n                                response.body = [];\n                                response.headers['Content-Range'] = 'items */0';\n                            }\n                            return this.respond(response, request);\n                        }\n                        if (request.method == 'POST') {\n                            let newResource = this.addOne(name, request.requestJson);\n                            let newResourceURI = this.baseUrl + '/' + name + '/' + newResource[this.getCollection(name).identifierName];\n                            response.body = newResource;\n                            response.headers['Location'] = newResourceURI;\n                            response.status = 201;\n                            return this.respond(response, request);\n                        }\n                    } else {\n                        let id = matches[3];\n                        if (request.method == 'GET') {\n                            try {\n                                response.body = this.getOne(name, id, params);\n                            } catch (error) {\n                                response.status = 404;\n                            }\n                            return this.respond(response, request);\n                        }\n                        if (request.method == 'PUT') {\n                            try {\n                                response.body = this.updateOne(name, id, request.requestJson);\n                            } catch (error) {\n                                response.status = 404;\n                            }\n                            return this.respond(response, request);\n                        }\n                        if (request.method == 'PATCH') {\n                            try {\n                                response.body = this.updateOne(name, id, request.requestJson);\n                            } catch (error) {\n                                response.status = 404;\n                            }\n                            return this.respond(response, request);\n                        }\n                        if (request.method == 'DELETE') {\n                            try {\n                                response.body = this.removeOne(name, id);\n                            } catch (error) {\n                                response.status = 404;\n                            }\n                            return this.respond(response, request);\n                        }\n                    }\n                }\n                return this.respond(response, request);\n            });\n    }\n}\n","import { Server } from './Server';\nimport { FetchServer } from './FetchServer';\nimport { Collection } from './Collection';\nimport { Single } from './Single';\n\nexport { Server, FetchServer, Collection, Single };\nexport default { Server, FetchServer, Collection, Single };\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(6499);\n"],"sourceRoot":""}